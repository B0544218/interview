
![](RackMultipart20210117-4-15abv96_html_67af377bd2e81465.png)

上圖之設備D 的路由表(routing table) 設定成：

![](RackMultipart20210117-4-15abv96_html_d6f8108f5a44a13b.png)

上圖之設備R 的路由表(routing table) 設定成：

![](RackMultipart20210117-4-15abv96_html_56e1a5de2bffaa45.png)

補充 : 遮罩部分叫network bit，其餘部分host bit

如何找子網路位置 :

把主機的IP換算成2進位，再與(主機的Mask)利用AND邏輯來得到子網路位置

如何找子網路中廣播位置 :

host bit都改成1並轉成10位元相加→得到一數字(IP個數 含廣播位置)再加到子網路位置

1. 請問此網路設定的例子：共有幾個子網路？包含哪些主機？各子網路位址？其上主機的IP位址的範圍？

Ans: 共\_\_5\_\_個子網路；

|
 | 包含哪些主機 | 子網路位址 | IP位址的範圍(不含廣播位址) |
| --- | --- | --- | --- |
| 1. | ABR | 192.168.1.0 | 192.168.1.1～192.168.1.254 |
| 2. | DF | 172.100.3.0 | 172.100.3.1～172.100.3.62 |
| 3. | E | 172.100.3.64 | 172.100.3.65～172.100.3.126 |
| 4. | DGNR | 172.100.6.64 | 172.100.6.65～172.100.6.126 |
| 5. | N | 120.100.7.100 | 120.100.7.101～.120.100.7.102 |

1. 請解釋以下網路封包的傳遞原理：

1. A(192.168.1.10)→B(192.168.1.120)
2. F(172.100.3.10)→E(172.100.3.120)
3. A(192.168.1.10)→R(172.100.6.126)
4. A(192.168.1.10)→G(172.100.6.98)
5. A(192.168.1.10)→D(172.100.6.88)
6. A(192.168.1.10)→F(172.100.3.10)
7. A(192.168.1.10)→E(172.100.3.120)
8. A(192.168.1.10)→網際網路(120.140.1.2)

a.

1.B的位址與A的位址屬於相同網段，所以直接送給B

b.

1.E的位址與F的位址屬於不同網段，所以直接傳送給F的Gateway(172.100.3.62)

2.D的路由表第3條規則，傳送給172.100.6.126

3.R的路由表第4條規則，傳送給172.100.6.78

4.N將他傳送到網際網路 (所以永遠傳不到E)

c.

1.R的位址與A的位址屬於不同網段，所以傳送給A的Gateway(192.168.1.62)

2.R收到後即發現172.100.6.126是自己的位址之一，所以接收處理後不再轉發

d.

1.G的位址與A的位址屬於不同網段，所以傳送給A的Gateway(192.168.1.62)

2.R的路由表第3條規則，G的位址與R的位址屬於相同網段，所以直接傳送給G

e.

1.D的位址與A的位址屬於不同網段，所以傳送給A的Gateway(192.168.1.62)

2.R的路由表第3條規則，D的位址與R的位址屬於相同網段，所以直接傳送給D

f.

1.F的位址與A的位址屬於不同網段，所以傳送給A的Gateway(192.168.1.62)

2.R的路由表第2條規則，傳送給172.100.6.88

3.D的路由表第1條規則，F的位址與D的位址屬於相同網段，所以直接傳送給F

g.

1.E的位址與A的位址屬於不同網段，所以傳送給A的Gateway(192.168.1.62)

2.R的路由表第4條規則，傳送給172.100.6.78

3.N將他轉送到網際網路 (所以永遠傳不到E)

h.

1.120.140.1.2與A的位址屬於不同網段，所以傳送給A的Gateway(172.100.3.62)

2.R的路由表第4條規則，傳送給172.100.6.78

3.N將他傳送到網際網路

第1頁 / 共3頁
